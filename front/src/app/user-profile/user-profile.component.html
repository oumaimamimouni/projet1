<div class="panel-header panel-header-sm">
</div>
<div class="main-content">
  <div class="row">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header">
          <h5 class="title">Edit Profile</h5>
        </div>
        <div class="card-body">
          <form (ngSubmit)="onSubmit()" *ngIf="utilisateurConnecte">
            <div class="row">
              <div class="col-md-5 pr-1">
                <div class="form-group">
                  <label>Société</label>
                  <input type="text" class="form-control" disabled value="Talys.">
                </div>
              </div>
              <div class="col-md-3 px-1">
                <div class="form-group">
                  <label>Nom d'utilisateur</label>
                  <input type="text" class="form-control" [(ngModel)]="utilisateurConnecte.nom_prenom" name="nom_prenom">
                </div>
              </div>
              <div class="col-md-4 pl-1">
                <div class="form-group">
                  <label>Email</label>
                  <input type="email" class="form-control" [(ngModel)]="utilisateurConnecte.email" name="email">
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 pr-1">
                <div class="form-group">
                  <label>Prénom</label>
                  <input type="text" class="form-control" [value]="utilisateurConnecte?.nom_prenom?.split(' ')[0]">
                </div>
              </div>
              <div class="col-md-6 pl-1">
                <div class="form-group">
                  <label>Nom</label>
                  <input type="text" class="form-control" [value]="utilisateurConnecte?.nom_prenom?.split(' ')[1]">
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label>Adresse</label>
                  <input type="text" class="form-control" [(ngModel)]="utilisateurConnecte.adresse" name="adresse">
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-4 pr-1">
                <div class="form-group">
                  <label>Ville</label>
                  <input type="text" class="form-control" [(ngModel)]="utilisateurConnecte.ville" name="ville">

                </div>
              </div>

            
              <div class="col-md-4 pr-1">
                <div class="form-group">
                  <label>Mot de passe</label>
                  <input
                    type="password"
                    class="form-control"
                    [(ngModel)]="password"
                    name="password"
                    placeholder="Laisser vide pour ne pas changer"
                  />
                </div>
              </div>
              
            </div>

            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label>À propos</label>
                  <textarea rows="4" class="form-control" [(ngModel)]="utilisateurConnecte.descriptions" name="descriptions"></textarea>
                </div>
              </div>
            </div>


            <button type="submit" class="btn btn-primary">Enregistrer</button>
          </form>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card card-user">
        <div class="image">
          <img src="../assets/img/bg5.jpg" alt="..." />
        </div>
        <div class="card-body text-center">


          <div *ngIf="imageSrc">
          <ng-container *ngIf="imageSrc; else defaultImage">

            <div class="profile-image-wrapper">
              <img [src]="imageSrc" alt="Image de profil" class="profile-image" />
            </div>
          </ng-container>

          
          <ng-template #defaultImage>
            <div class="profile-image-wrapper">
              <img src="assets/img/default-avatar.png"  class="avatar border-gray" />
            </div>
          </ng-template>

          <h5 class="title mt-2">{{ utilisateurConnecte?.nom_prenom || 'Utilisateur inconnu' }}</h5>
          <p class="description">{{ utilisateurConnecte?.email || 'Email non disponible' }}</p>
          <p class="description">{{ utilisateurConnecte?.descriptions || 'Pas de description' }}</p>

          <div class="form-group">
            <label for="imageUpload" class="btn btn-primary btn-block">Télécharger une image</label>
            <input type="file" id="imageUpload" (change)="onFileSelected($event)" accept="image/*" style="display: none;">
          </div>
        </div>
        <hr>
        <div class="button-container text-center">
          <button class="btn btn-neutral btn-icon btn-round btn-lg"><i class="fab fa-facebook-f"></i></button>
          <button class="btn btn-neutral btn-icon btn-round btn-lg"><i class="fab fa-twitter"></i></button>
          <button class="btn btn-neutral btn-icon btn-round btn-lg"><i class="fab fa-google-plus-g"></i></button>
        </div>
      </div>
    </div>
  </div>
</div>

